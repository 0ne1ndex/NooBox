!function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.shared={},window.timeagoInstance=null,window.isZh=!1,chrome.i18n.getAcceptLanguages(function(e){if(e.indexOf("zh")!=-1){isZh=!0;try{chrome.i18n.getUILanguage().indexOf("zh")==-1&&(isZh=!1)}catch(e){}}}),window.initTimeago=function(){isZh&&timeago.register("locale",function(e,n){return[["刚刚","片刻后"],["%s秒前","%s秒后"],["1分钟前","1分钟后"],["%s分钟前","%s分钟后"],["1小时前","1小时后"],["%s小时前","%s小时后"],["1天前","1天后"],["%s天前","%s天后"],["1周前","1周后"],["%s周前","%s周后"],["1月前","1月后"],["%s月前","%s月后"],["1年前","1年后"],["%s年前","%s年后"]][n]}),timeagoInstance=new timeago},window.compare=function(e,n){for(var t=0,o=e.length,r=n.length,i=e.toLowerCase(),a=n.toLowerCase(),c=void 0,s=void 0;o>t&&r>t;){if(c=i.charCodeAt(t),s=a.charCodeAt(t),c!=s)return c-s;t++}return o-r},window.getLocale=function(e){return chrome.i18n.getMessage(e)},window.GL=getLocale,window.getChromeVersion=function(){var e=window.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9\.]+)/);return e?e[1]:null},window.extractDomain=function(e){if(!e)return"error";var n=void 0;n=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],n=n.split(":")[0];var t=n.split(".");return t[t.length-2]+"."+t[t.length-1]},window.capFirst=function(e){var n=getString(e);return n.charAt(0).toUpperCase()+n.slice(1)},window.getString=function(e){return void 0===e||null===e?"":e.toString()},window.getParameterByName=function(e,n){n||(n=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),o=t.exec(n);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},window.dataUrlFromUrl=function(e,n){var t=new Image;t.addEventListener("load",function(){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var o=e.getContext("2d");o.drawImage(t,0,0,t.width,t.height);var r=e.toDataURL();n(r)}),t.src=e},window.isOn=function(e,n,t,o){get(e,function(e){"1"==e||1==e?n&&n(o):t&&t(o)})},window.setIfNull=function(e,n,t){get(e,function(o){void 0==o||null==o?set(e,n,t):t&&t()})},window.setDB=function(e,n,t){var o=window.indexedDB,r=o.open("NooBox",1);r.onupgradeneeded=function(){var e=r.result;e.createObjectStore("Store",{keyPath:"key"})},r.onsuccess=function(){var o=r.result,i=o.transaction("Store","readwrite"),a=i.objectStore("Store"),c=a.put({key:e,value:n});c.onsuccess=function(){t&&t()},c.onerror=function(){console.log("setDB fail")}}},window.getDB=function(e,n){if(n){var t=window.indexedDB,o=t.open("NooBox",1);o.onupgradeneeded=function(){var e=o.result;e.createObjectStore("Store",{keyPath:"key"})},o.onsuccess=function(){var t=o.result,r=t.transaction("Store","readwrite"),i=r.objectStore("Store"),a=i.get(e);a.onsuccess=function(e){n(e.target.result?e.target.result.value:null)},a.onerror=function(){console.log("getDB fail")}}}},window.deleteDB=function(e,n){var t=window.indexedDB,o=t.open("NooBox",1);o.onupgradeneeded=function(){var e=o.result;e.createObjectStore("Store",{keyPath:"key"})},o.onsuccess=function(){var t=o.result,r=t.transaction("Store","readwrite"),i=r.objectStore("Store"),a=i.delete(e);a.onsuccess=function(e){n&&n(!0)},a.onerror=function(){console.log("deleteDB fail"),n&&n(!1)}}},window.set=function(e,n,t){var o={};o[e]=n,chrome.storage.sync.set(o,t)},window.get=function(e,n){chrome.storage.sync.get(e,function(t){n&&n(t[e])})},window.getImageSearchEngines=function(e,n,t,o,r){null==t?(t=-1,r=[]):(o&&r.push(e[t]),t==e.length-1&&n(r)),t<e.length-1&&isOn("imageSearchUrl_"+e[t+1],getImageSearchEngines.bind(null,e,n,t+1,!0,r),getImageSearchEngines.bind(null,e,n,t+1,!1,r))},window.dataURItoBlob=function(e){try{atob(e.split(",")[1])}catch(e){console.log(e)}for(var n=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(byteString.length),o=new Uint8Array(t),r=0;r<byteString.length;r++)o[r]=byteString.charCodeAt(r);var i=new Blob([t],{type:n});return i},window.loadIframe=function(e,n){$(function(){var t=$("<iframe/>",{id:"baiduIframe",src:e,style:"display:none"});$("#baiduIframe").on("load",n),$("body").append(t)})};var o=";base64,";window.convertDataURIToBinary=function(e){try{for(var n=e.indexOf(o)+o.length,t=e.substring(n),r=window.atob(t),i=r.length,a=new Uint8Array(new ArrayBuffer(i)),c=0;c<i;c++)a[c]=r.charCodeAt(c);return a}catch(n){try{e=e.replace(/%2/g,"/");for(var s=e.indexOf(o)+o.length,u=e.substring(s),l=window.atob(u),d=l.length,g=new Uint8Array(new ArrayBuffer(d)),f=0;f<d;f++)g[f]=l.charCodeAt(f);return g}catch(e){return}return console.log(n),array}},window.voidFunc=function(){},window.fetchBlob=function(e,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="blob",t.onload=function(e){if(4==t.readyState)if(200==this.status){var o=new Blob([this.response],{type:"image/png"});n&&n(o)}else console.log("error! yay"),n()},t.onerror=function(){console.log("error! yay"),n()},t.send()},window.bello={pageview:function(e){if("object"==("undefined"==typeof window?"undefined":t(window))){var n={type:"pageview",path:e,title:"background",referrer:"",ua:navigator.userAgent,sr:screen.width+"x"+screen.height,ul:navigator.language||navigator.userLanguage,ainoob:Math.random()};this.ajax("https://ainoob.com/bello/noobox"+this.serialize(n))}},event:function(e){if("object"==("undefined"==typeof window?"undefined":t(window))){var n={type:"event",category:e.category,action:e.action,label:e.label,value:e.value||0,ainoob:Math.random(),ua:navigator.userAgent,sr:screen.width+"x"+screen.height,path:"0.9.3.8",ul:navigator.language||navigator.userLanguage};this.ajax("https://ainoob.com/bello/noobox"+this.serialize(n))}},serialize:function(e){return"?"+Object.keys(e).reduce(function(n,t){return n.push(t+"="+encodeURIComponent(e[t])),n},[]).join("&")},ajax:function(e){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){n.status>=200&&n.status<400&&console.log(n.responseText)},n.send()}}}]);